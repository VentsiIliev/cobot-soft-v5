# Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ·Ğ° Settings Plugin (ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸)
## Ğ¡ÑŠĞ´ÑŠÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ
1. [ĞŸÑ€ĞµĞ³Ğ»ĞµĞ´](#Ğ¿Ñ€ĞµĞ³Ğ»ĞµĞ´)
2. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
3. [ĞŸĞ¾Ñ‚Ğ¾ĞºĞ° Ğ½Ğ° Ğ”Ğ°Ğ½Ğ½Ğ¸Ñ‚Ğµ](#Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°-Ğ½Ğ°-Ğ´Ğ°Ğ½Ğ½Ğ¸Ñ‚Ğµ)
4. [Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ° Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°](#Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°-ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)
5. [API Endpoints](#api-endpoints)
6. [ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸](#ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸)
7. [Tabs (Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸)](#tabs-Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¸)
8. [Signal Pattern](#signal-pattern)
9. [ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ğ¸ Ğ·Ğ° Ğ˜Ğ·Ğ¿Ğ¾Ğ»Ğ·Ğ²Ğ°Ğ½Ğµ](#Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ¸-Ğ·Ğ°-Ğ¸Ğ·Ğ¿Ğ¾Ğ»Ğ·Ğ²Ğ°Ğ½Ğµ)
---
## ĞŸÑ€ĞµĞ³Ğ»ĞµĞ´
Settings Plugin Ğµ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ°Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ·Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ²ÑĞ¸Ñ‡ĞºĞ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµÑ‚Ğ¾. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°Ñ‚Ğ° Ğ¸Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ° ÑƒĞ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ°Ğ½ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ·Ğ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ¸Ñ€Ğ°Ğ½Ğµ Ğ½Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ°, Ñ€Ğ¾Ğ±Ğ¾Ñ‚, Ğ»ĞµĞ¿Ğ¸Ğ»Ğ¾ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸.
### ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ½Ğ¾ÑÑ‚Ğ¸
- âœ… Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ·Ğ° Ñ€Ğ¾Ğ±Ğ¾Ñ‚ (Robot Settings)
- âœ… Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ·Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ° (Camera Settings)  
- âœ… Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ·Ğ° Ğ»ĞµĞ¿Ğ¸Ğ»Ğ¾ (Glue Settings)
- âœ… Ğ¢Ğ°Ğ±ÑƒĞ»Ğ¸Ñ€Ğ°Ğ½ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ñ Ğ¸ĞºĞ¾Ğ½Ğ¸
- âœ… Signal-based Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Ğ²Ğ¼ĞµÑÑ‚Ğ¾ callbacks)
- âœ… Repository Pattern Ğ·Ğ° Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚
- âœ… Lazy loading Ğ½Ğ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ (Ğ·Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ñ‚ ÑĞµ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ±Ğ¾Ñ€ Ğ½Ğ° tab)
- âœ… Jog Drawer Ğ·Ğ° Ñ€ÑŠÑ‡Ğ½Ğ¾ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ°
- âœ… Real-time Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ° Ğ²Ñ€ÑŠĞ·ĞºĞ°
---
## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°Ñ‚Ğ° ÑĞ»ĞµĞ´Ğ²Ğ° Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑĞ»Ğ¾Ğ¹Ğ½Ğ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ Signal Pattern Ğ·Ğ° ĞºĞ¾Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Plugin Layer (Settings Plugin)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SettingsPlugin (IPlugin)                                      â”‚  â”‚
â”‚  â”‚  - metadata (name, version, permissions)                      â”‚  â”‚
â”‚  â”‚  - initialize(controller_service)                             â”‚  â”‚
â”‚  â”‚  - create_widget() â†’ SettingsAppWidget                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UI Layer (Frontend Widgets)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SettingsAppWidget (AppWidget)                                 â”‚  â”‚
â”‚  â”‚  â””â”€ SettingsContent (CustomTabWidget)                         â”‚  â”‚
â”‚  â”‚      â”œâ”€ RobotConfigUI (Robot Settings Tab)                    â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€ General Settings Sub-tab                          â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€ Movement Groups Sub-tab                           â”‚  â”‚
â”‚  â”‚      â”‚   â”œâ”€ Safety Sub-tab                                    â”‚  â”‚
â”‚  â”‚      â”‚   â””â”€ Robot Calibration Sub-tab                         â”‚  â”‚
â”‚  â”‚      â”œâ”€ CameraSettingsTabLayout (Camera Settings Tab)         â”‚  â”‚
â”‚  â”‚      â””â”€ GlueSettingsTabLayout (Glue Settings Tab)             â”‚  â”‚
â”‚  â”‚          â”œâ”€ Glue Types Tab                                    â”‚  â”‚
â”‚  â”‚          â”œâ”€ Hardware Config Tab                               â”‚  â”‚
â”‚  â”‚          â””â”€ Glue Cells Tab                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚  Signal Flow:                                                        â”‚
â”‚  Widget Change â†’ setting_changed(key, value, type) â”€â”€â”              â”‚
â”‚                                                        â”‚              â”‚
â”‚  Widget Action â†’ update_camera_feed_requested() â”€â”€â”€â”€â”€â”€â”¼â”€â†’ Signals   â”‚
â”‚                                                        â”‚              â”‚
â”‚  Widget Action â†’ raw_mode_requested(bool) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ (pyqtSignal)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Communication Layer (API Gateway + Services)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SettingsAppWidget._handle_setting_change()                    â”‚  â”‚
â”‚  â”‚  â””â”€ controller_service.settings.update_setting()              â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚ MainRouter â†’ SettingsDispatcher                               â”‚  â”‚
â”‚  â”‚  â”œâ”€ handle_robot_settings()                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ handle_camera_settings()                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ handle_glue_settings()                                    â”‚  â”‚
â”‚  â”‚  â””â”€ handle_robot_calibration_settings()                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ (Repository Pattern)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Data Access Layer (Repositories)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ RobotSettingsRepository                                        â”‚  â”‚
â”‚  â”‚  â””â”€ BaseJsonSettingsRepository[RobotConfig]                   â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚ CameraSettingsRepository                                       â”‚  â”‚
â”‚  â”‚  â””â”€ BaseJsonSettingsRepository[CameraSettings]                â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚ RobotCalibrationRepository                                     â”‚  â”‚
â”‚  â”‚  â””â”€ BaseJsonSettingsRepository[RobotCalibration]              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ (JSON I/O)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Model Layer (Data Models)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ RobotConfig                                                    â”‚  â”‚
â”‚  â”‚  - global_motion: GlobalMotionSettings                        â”‚  â”‚
â”‚  â”‚  - movement_groups: Dict[str, MovementGroup]                  â”‚  â”‚
â”‚  â”‚  - safety_limits: SafetyLimits                                â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚ CameraSettings                                                 â”‚  â”‚
â”‚  â”‚  - backend, resolution, fps, etc.                             â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚ RobotCalibrationSettings                                       â”‚  â”‚
â”‚  â”‚  - workspace_origin, camera_calibration, etc.                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    File System (Storage)                             â”‚
â”‚  ~/.cache/cobot-glue-dispensing-v5/                                 â”‚
â”‚    glue_dispensing_application/storage/settings/                    â”‚
â”‚      â”œâ”€ robot_config.json                                           â”‚
â”‚      â”œâ”€ camera_settings.json                                        â”‚
â”‚      â””â”€ robot_calibration.json                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
---
## ĞŸĞ¾Ñ‚Ğ¾ĞºĞ° Ğ½Ğ° Ğ”Ğ°Ğ½Ğ½Ğ¸Ñ‚Ğµ
### 1. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Plugin (Startup)
```
[1] ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµÑ‚Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°
      â†“
[2] PluginManager.load_plugins()
      â†“
[3] SettingsPlugin.initialize(controller_service)
      - Ğ—Ğ°Ğ¿Ğ°Ğ·Ğ²Ğ° controller_service Ñ€ĞµÑ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ñ
      - ĞœĞ°Ñ€ĞºĞ¸Ñ€Ğ° plugin ĞºĞ°Ñ‚Ğ¾ initialized
      â†“
[4] SettingsPlugin._is_initialized = True
      â†“
[5] Plugin Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ², Ğ½Ğ¾ widget ĞĞ• Ğµ ÑÑŠĞ·Ğ´Ğ°Ğ´ĞµĞ½ Ğ²ÑĞµ Ğ¾Ñ‰Ğµ
```
### 2. Ğ¡ÑŠĞ·Ğ´Ğ°Ğ²Ğ°Ğ½Ğµ Ğ½Ğ° Widget (User Opens Settings)
```
[1] ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑÑ‚ ĞºĞ»Ğ¸ĞºĞ²Ğ° "Settings" Ğ² Ğ¼ĞµĞ½ÑÑ‚Ğ¾
      â†“
[2] MainWindow â†’ SettingsPlugin.create_widget()
      â†“
[3] ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°: if not self._is_initialized â†’ raise RuntimeError
      â†“
[4] Ğ¡ÑŠĞ·Ğ´Ğ°Ğ²Ğ° ÑĞµ SettingsAppWidget
      - controller_service ÑĞµ Ğ¿Ğ¾Ğ´Ğ°Ğ²Ğ° ĞºĞ°Ñ‚Ğ¾ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚ÑŠÑ€
      - widget ÑĞµ ĞºĞµÑˆĞ¸Ñ€Ğ° Ğ² self._widget_instance
      â†“
[5] SettingsAppWidget.setup_ui()
      â†“
[6] Ğ¡ÑŠĞ·Ğ´Ğ°Ğ²Ğ° ÑĞµ SettingsContent Ñ controller_service
      â†“
[7] SettingsContent._get_needed_settings_tabs()
      - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞ²Ğ° ĞºĞ°ĞºĞ²Ğ¸ tabs ÑĞ° Ğ½ÑƒĞ¶Ğ½Ğ¸ Ğ·Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµÑ‚Ğ¾
      - Ğ’Ñ€ÑŠÑ‰Ğ° ÑĞ¿Ğ¸ÑÑŠĞº: ['robot', 'camera', 'glue']
      â†“
[8] SettingsContent._create_dynamic_tabs(needed_tabs)
      â”œâ”€ create_robot_settings_tab()
      â”œâ”€ create_camera_settings_tab()
      â””â”€ create_glue_settings_tab()
      â†“
[9] Ğ—Ğ° Ğ²ÑĞµĞºĞ¸ tab:
      - Ğ¡ÑŠĞ·Ğ´Ğ°Ğ²Ğ° BackgroundTabPage
      - Ğ¡ÑŠĞ·Ğ´Ğ°Ğ²Ğ° ÑÑŠĞ¾Ñ‚Ğ²ĞµÑ‚Ğ½Ğ¸Ñ Layout (RobotConfigUI, CameraSettingsTabLayout, Ğ¸ Ñ‚.Ğ½.)
      - Ğ”Ğ¾Ğ±Ğ°Ğ²Ñ tab Ñ Ğ¸ĞºĞ¾Ğ½Ğ°
      â†“
[10] SettingsContent._connect_settings_signals()
      - Ğ¡Ğ²ÑŠÑ€Ğ·Ğ²Ğ° signal-Ğ¸ Ğ¾Ñ‚ Ğ²ÑĞµĞºĞ¸ tab ĞºÑŠĞ¼ unified handler
      â†“
[11] UI Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ² - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸Ñ‚Ğµ Ğ²ÑĞµ Ğ¾Ñ‰Ğµ ĞĞ• ÑĞ° Ğ·Ğ°Ñ€ĞµĞ´ĞµĞ½Ğ¸ (lazy loading)
```
**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ´:**
```python
# Ğ’ SettingsPlugin
def create_widget(self, parent=None):
    if not self._is_initialized:
        raise RuntimeError("Plugin not initialized")
    self._widget_instance = SettingsAppWidget(
        controller=self.controller_service.controller,
        controller_service=self.controller_service
    )
    return self._widget_instance
```
### 3. Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ğ½Ğµ Ğ½Ğ° ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ (Lazy Loading)
```
[1] ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑÑ‚ Ğ¸Ğ·Ğ±Ğ¸Ñ€Ğ° tab (Ğ½Ğ°Ğ¿Ñ€. "Robot Settings")
      â†“
[2] Tab widget ÑĞµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ²Ğ° Ğ·Ğ° Ğ¿ÑŠÑ€Ğ²Ğ¸ Ğ¿ÑŠÑ‚
      â†“
[3] RobotConfigUI Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ²Ğ°: if not self._settings_loaded
      â†“
[4] RobotConfigUI._load_robot_settings()
      â†“
[5] controller_service.send_request(SETTINGS_ROBOT_GET)
      â†“
[6] MainRouter Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ğ²Ğ° Ğ·Ğ°ÑĞ²ĞºĞ°Ñ‚Ğ°
      â†“
[7] MainRouter â†’ SettingsDispatcher.dispatch()
      â†“
[8] SettingsDispatcher.handle_robot_settings()
      â†“
[9] RobotSettingsRepository.load()
      â†“
[10] Ğ§ĞµÑ‚Ğµ robot_config.json Ğ¾Ñ‚ Ğ´Ğ¸ÑĞºĞ°
      â†“
[11] RobotConfig.from_dict(json_data)
      â†“
[12] Response(status='success', data=robot_config.to_dict())
      â†“
[13] UI Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ğ²Ğ° response Ğ¸ Ğ¿Ğ¾Ğ¿ÑŠĞ»Ğ²Ğ° Ğ¿Ğ¾Ğ»ĞµÑ‚Ğ°Ñ‚Ğ°
      â†“
[14] self._settings_loaded = True (Ğ½Ğµ ÑĞµ Ğ·Ğ°Ñ€ĞµĞ¶Ğ´Ğ° Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾)
```
**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ´:**
```python
# Ğ’ RobotConfigUI
def _load_robot_settings(self):
    if self._settings_loaded:
        return
    response_dict = self.controller_service.send_request(
        settings_endpoints.SETTINGS_ROBOT_GET
    )
    response = Response.from_dict(response_dict)
    if response.status == 'success':
        self._populate_ui_from_config(response.data)
        self._settings_loaded = True
```
### 4. ĞŸÑ€Ğ¾Ğ¼ÑĞ½Ğ° Ğ½Ğ° ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° (Signal Pattern)
```
[1] ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑÑ‚ Ğ¿Ñ€Ğ¾Ğ¼ĞµĞ½Ñ ÑÑ‚Ğ¾Ğ¹Ğ½Ğ¾ÑÑ‚ (Ğ½Ğ°Ğ¿Ñ€. max_velocity)
      â†“
[2] QSpinBox.valueChanged signal ÑĞµ Ğ·Ğ°Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ°
      â†“
[3] Lambda Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ ÑƒĞ»Ğ°Ğ²Ñ Ğ¿Ñ€Ğ¾Ğ¼ÑĞ½Ğ°Ñ‚Ğ°
      â†“
[4] Ğ•Ğ¼Ğ¸Ñ‚Ğ¸Ñ€Ğ° ÑĞµ unified signal:
      self.setting_changed.emit('max_velocity', 100.5, 'GlobalMotionSettings')
      â†“
[5] SettingsContent Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ğ²Ğ° signal-Ğ°
      â†“
[6] SettingsContent Ğ¿Ñ€Ğ¾Ğ¿Ğ°Ğ³Ğ¸Ñ€Ğ° signal-Ğ° Ğ½Ğ°Ğ³Ğ¾Ñ€Ğµ
      â†“
[7] SettingsAppWidget._handle_setting_change(key, value, component_type)
      â†“
[8] controller_service.settings.update_setting(key, value, component_type)
      â†“
[9] SettingsService.update_setting()
      - Ğ˜Ğ·Ğ±Ğ¸Ñ€Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ½Ğ°Ñ‚Ğ° strategy (robot_config_strategy)
      - strategy.update(key, value)
      â†“
[10] RobotConfigStrategy.update()
      - Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ° Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ñ config
      - config.update_field(key, value)
      - Ğ—Ğ°Ğ¿Ğ°Ğ·Ğ²Ğ° Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾
      â†“
[11] RobotSettingsRepository.save(config)
      â†“
[12] JSON Ñ„Ğ°Ğ¹Ğ»ÑŠÑ‚ ÑĞµ Ğ°ĞºÑ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ° Ğ½Ğ° Ğ´Ğ¸ÑĞºĞ°
      â†“
[13] Ğ’Ñ€ÑŠÑ‰Ğ° Response ÑÑŠÑ success/error
      â†“
[14] UI Ğ¿Ğ¾ĞºĞ°Ğ·Ğ²Ğ° feedback (toast Ğ¸Ğ»Ğ¸ log)
```
**Signal Flow Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ°:**
```
Widget Input Change
      â†“
[valueChanged signal]
      â†“
Lambda: emit setting_changed(key, value, type)
      â†“
SettingsContent.setting_changed (relay)
      â†“
SettingsAppWidget._handle_setting_change()
      â†“
controller_service.settings.update_setting()
      â†“
Strategy Pattern â†’ Repository â†’ File I/O
      â†“
Response â†’ Feedback
```
### 5. Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ½Ğ¸ Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ (Camera Feed, Raw Mode)
```
[1] ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑÑ‚ ĞºĞ»Ğ¸ĞºĞ²Ğ° Ğ±ÑƒÑ‚Ğ¾Ğ½ Ğ·Ğ° Camera Feed Update
      â†“
[2] update_camera_feed_requested.emit()
      â†“
[3] SettingsContent Ğ¿Ñ€Ğ¾Ğ¿Ğ°Ğ³Ğ¸Ñ€Ğ° signal-Ğ°
      â†“
[4] SettingsAppWidget.updateCameraFeedCallback()
      â†“
[5] controller.handle(camera_endpoints.UPDATE_CAMERA_FEED)
      â†“
[6] CameraController Ğ°ĞºÑ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ° feed-Ğ°
      â†“
[7] Ğ’Ñ€ÑŠÑ‰Ğ° frame
      â†“
[8] UI Ğ¿Ğ¾ĞºĞ°Ğ·Ğ²Ğ° Ğ°ĞºÑ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ°Ğ½Ğ¸Ñ frame
```
**Ğ—Ğ° Raw Mode:**
```
[1] CheckBox state change â†’ raw_mode_requested.emit(state)
      â†“
[2] SettingsAppWidget.onRawModeRequested(state)
      â†“
[3] if state:
      controller.handle(CAMERA_ACTION_RAW_MODE_ON)
    else:
      controller.handle(CAMERA_ACTION_RAW_MODE_OFF)
      â†“
[4] CameraController Ğ¿Ñ€ĞµĞ²ĞºĞ»ÑÑ‡Ğ²Ğ° Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°
```
### 6. Glue Types Management (Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡ĞµĞ½ ĞŸĞ¾Ñ‚Ğ¾Ğº)
```
[1] ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑÑ‚ Ğ¾Ñ‚Ğ²Ğ°Ñ€Ñ Glue Settings â†’ Glue Types tab
      â†“
[2] GlueTypeTab.glue_types_load_requested.emit()
      â†“
[3] SettingsAppWidget._handle_load_glue_types()
      â†“
[4] controller.handle(GLUE_TYPES_GET)
      â†“
[5] SettingsDispatcher.handle_glue_types()
      â†“
[6] Ğ§ĞµÑ‚Ğµ glue_types.json Ğ¸Ğ»Ğ¸ Ğ·Ğ°ÑĞ²ĞºĞ° ĞºÑŠĞ¼ Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ğ¸
      â†“
[7] Response Ñ Ğ¼Ğ°ÑĞ¸Ğ² Ğ¾Ñ‚ glue types
      â†“
[8] GlueTypeTab.update_glue_types_from_response(response)
      â†“
[9] Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°Ñ‚Ğ° ÑĞµ Ğ¿Ğ¾Ğ¿ÑŠĞ»Ğ²Ğ° Ñ Ğ´Ğ°Ğ½Ğ½Ğ¸Ñ‚Ğµ
```
**Add Glue Type:**
```
[1] User clicks "Add"
      â†“
[2] glue_type_add_requested.emit(name, description)
      â†“
[3] SettingsAppWidget._handle_add_glue_type()
      â†“
[4] controller.handleAddGlueType(name, description)
      â†“
[5] GLUE_TYPE_ADD_CUSTOM endpoint
      â†“
[6] Ğ”Ğ¾Ğ±Ğ°Ğ²Ñ Ğ² storage
      â†“
[7] Response success/error
      â†“
[8] Reload all glue types
      â†“
[9] QMessageBox shows result
```
---
## Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ° Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
### Plugin Layer
```
src/plugins/core/settings/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ plugin.py                          # SettingsPlugin ĞºĞ»Ğ°ÑĞ°
â”œâ”€â”€ plugin.json                        # Plugin metadata
â”‚
â”œâ”€â”€ icons/                             # Tab Ğ¸ĞºĞ¾Ğ½Ğ¸
â”‚   â”œâ”€â”€ settings.png                   # Plugin icon
â”‚   â”œâ”€â”€ CAMERA_SETTINGS_BUTTON.png
â”‚   â”œâ”€â”€ ROBOT_SETTINGS_BUTTON_SQUARE.png
â”‚   â”œâ”€â”€ glue_qty.png
â”‚   â””â”€â”€ Background_&_Logo.png
â”‚
â”œâ”€â”€ enums/                             # Setting keys ĞµĞ½ÑƒĞ¼ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ CameraSettingKeys.py
â”‚   â”œâ”€â”€ RobotCalibrationSettingKeys.py
â”‚   â””â”€â”€ GlueSettingKeys.py
â”‚
â”œâ”€â”€ ui/                                # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ SettingsAppWidget.py           # Ğ“Ğ»Ğ°Ğ²ĞµĞ½ widget
â”‚   â”œâ”€â”€ SettingsContent.py             # Tab ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€
â”‚   â”œâ”€â”€ BaseSettingsTabLayout.py       # Ğ‘Ğ°Ğ·Ğ¾Ğ² ĞºĞ»Ğ°Ñ Ğ·Ğ° tabs
â”‚   â”œâ”€â”€ CameraSettingsTabLayout.py     # Camera tab
â”‚   â”œâ”€â”€ GlueCellSettingsTabLayout.py   # Glue cells tab
â”‚   â”‚
â”‚   â”œâ”€â”€ robot_settings_tab/            # Robot settings sub-module
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ RobotConfigUI.py           # Ğ“Ğ»Ğ°Ğ²ĞµĞ½ robot tab
â”‚   â”‚   â”œâ”€â”€ signals.py                 # Signal Ğ´ĞµÑ„Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ translate.py               # ĞŸÑ€ĞµĞ²Ğ¾Ğ´Ğ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ sub_tabs/                  # Robot sub-tabs
â”‚   â”‚   â”‚   â”œâ”€â”€ general_settings.py
â”‚   â”‚   â”‚   â”œâ”€â”€ movement_groups.py
â”‚   â”‚   â”‚   â”œâ”€â”€ safety.py
â”‚   â”‚   â”‚   â””â”€â”€ robot_calibration.py
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ robot_config_groups/       # UI Ğ³Ñ€ÑƒĞ¿Ğ¸
â”‚   â”‚       â”œâ”€â”€ base.py
â”‚   â”‚       â”œâ”€â”€ global_motion.py
â”‚   â”‚       â”œâ”€â”€ movement_group.py
â”‚   â”‚       â”œâ”€â”€ robot_info.py
â”‚   â”‚       â””â”€â”€ safety_limits.py
â”‚   â”‚
â”‚   â””â”€â”€ helpers/                       # Helper widgets
â”‚       â”œâ”€â”€ commands.py
â”‚       â””â”€â”€ jog_widget.py              # Jog drawer
â”‚
â””â”€â”€ services/                          # (Ğ¿Ñ€Ğ°Ğ·Ğ½Ğ°, Ğ·Ğ° Ğ±ÑŠĞ´ĞµÑ‰Ğ° ÑƒĞ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ°)
```
### Communication Layer
```
src/communication_layer/
â”œâ”€â”€ api/v1/endpoints/
â”‚   â””â”€â”€ settings_endpoints.py          # Settings endpoint Ğ´ĞµÑ„Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ¸
â”‚
â””â”€â”€ api_gateway/dispatch/
    â””â”€â”€ settings_dispatcher.py         # Settings Ğ·Ğ°ÑĞ²ĞºĞ¸ handler
```
### Data Access Layer
```
src/core/database/settings/
â”œâ”€â”€ BaseJsonSettingsRepository.py      # Ğ‘Ğ°Ğ·Ğ¾Ğ² repository ĞºĞ»Ğ°Ñ
â”œâ”€â”€ RobotSettingsRepository.py         # Robot config repository
â”œâ”€â”€ CameraSettingsRepository.py        # Camera settings repository
â””â”€â”€ RobotCalibrationRepository.py      # Robot calibration repository
```
### Model Layer
```
src/core/model/settings/
â”œâ”€â”€ BaseSettings.py                    # Ğ‘Ğ°Ğ·Ğ¾Ğ² settings Ğ¼Ğ¾Ğ´ĞµĞ»
â”œâ”€â”€ CameraSettings.py                  # Camera settings model
â”œâ”€â”€ robot_calibration_settings.py      # Calibration model
â”‚
â”œâ”€â”€ robotConfig/                       # Robot config models
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ robotConfigModel.py            # RobotConfig Ğ³Ğ»Ğ°Ğ²ĞµĞ½ ĞºĞ»Ğ°Ñ
â”‚   â”œâ”€â”€ GlobalMotionSettings.py        # Global motion Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
â”‚   â”œâ”€â”€ MovementGroup.py               # Movement group Ğ¼Ğ¾Ğ´ĞµĞ»
â”‚   â”œâ”€â”€ SafetyLimits.py                # Safety limits Ğ¼Ğ¾Ğ´ĞµĞ»
â”‚   â””â”€â”€ OffsetDirectionMap.py          # Offset Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
â”‚
â””â”€â”€ enums/
    â””â”€â”€ CameraSettingKey.py            # Camera setting ĞºĞ»ÑÑ‡Ğ¾Ğ²Ğµ
```
### Services Layer
```
src/core/services/settings/
â”œâ”€â”€ SettingsService.py                 # Main settings service
â”œâ”€â”€ interfaces/
â”‚   â””â”€â”€ ISettingsRepository.py         # Repository interface
â”‚
â””â”€â”€ strategies/                        # Strategy pattern Ğ·Ğ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ğ¸ Ñ‚Ğ¸Ğ¿Ğ¾Ğ²Ğµ
    â”œâ”€â”€ base_strategy.py
    â”œâ”€â”€ robot_config_strategy.py
    â””â”€â”€ robot_calibration_strategy.py
```
### Storage
```
~/.cache/cobot-glue-dispensing-v5/
â””â”€â”€ glue_dispensing_application/storage/settings/
    â”œâ”€â”€ robot_config.json
    â”œâ”€â”€ camera_settings.json
    â””â”€â”€ robot_calibration.json
```
---
## API Endpoints
### 1. SETTINGS_ROBOT_GET
**ĞŸÑŠÑ‚:** `/api/v1/settings/robot`  
**ĞœĞµÑ‚Ğ¾Ğ´:** GET  
**Ğ¦ĞµĞ»:** Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ğ½Ğµ Ğ½Ğ° Ğ¿ÑŠĞ»Ğ½Ğ°Ñ‚Ğ° robot ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
**Request:**
```python
controller_service.send_request(settings_endpoints.SETTINGS_ROBOT_GET)
```
**Response (Success):**
```json
{
  "status": "success",
  "data": {
    "global_motion": {
      "max_velocity": 100.5,
      "max_acceleration": 50.0,
      "max_jerk": 200.0,
      "blend_radius": 0.01
    },
    "movement_groups": {
      "approach": {
        "velocity": 80.0,
        "acceleration": 40.0
      }
    },
    "safety_limits": {
      "max_tcp_speed": 250.0,
      "max_joint_speed": [180.0, 180.0, 180.0, 360.0, 360.0, 360.0]
    }
  }
}
```
**Handler:** `SettingsDispatcher.handle_robot_settings()`
```python
if request == settings_endpoints.SETTINGS_ROBOT_GET:
    repo = RobotSettingsRepository(file_path=robot_config_path)
    config = repo.load()
    return Response(
        Constants.RESPONSE_STATUS_SUCCESS,
        data=config.to_dict()
    ).to_dict()
```
---
### 2. SETTINGS_ROBOT_SET
**ĞŸÑŠÑ‚:** `/api/v1/settings/robot/set`  
**ĞœĞµÑ‚Ğ¾Ğ´:** POST  
**Ğ¦ĞµĞ»:** Ğ—Ğ°Ğ¿Ğ°Ğ·Ğ²Ğ°Ğ½Ğµ Ğ½Ğ° Ñ†ÑĞ»Ğ° robot ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
**Request:**
```python
controller_service.send_request(
    settings_endpoints.SETTINGS_ROBOT_SET,
    data={
        'global_motion': {...},
        'movement_groups': {...},
        'safety_limits': {...}
    }
)
```
**Response (Success):**
```json
{
  "status": "success",
  "message": "Robot configuration saved successfully"
}
```
---
### 3. SETTINGS_ROBOT_CALIBRATION_GET
**ĞŸÑŠÑ‚:** `/api/v1/settings/robot/calibration`  
**ĞœĞµÑ‚Ğ¾Ğ´:** GET  
**Ğ¦ĞµĞ»:** Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ğ½Ğµ Ğ½Ğ° robot calibration Ğ´Ğ°Ğ½Ğ½Ğ¸
**Request:**
```python
controller_service.send_request(settings_endpoints.SETTINGS_ROBOT_CALIBRATION_GET)
```
**Response (Success):**
```json
{
  "status": "success",
  "data": {
    "workspace_origin": {"x": 0.0, "y": 0.0, "z": 0.0},
    "camera_calibration": {
      "pixel_to_mm_x": 0.1,
      "pixel_to_mm_y": 0.1
    },
    "tcp_offset": {"x": 0.0, "y": 0.0, "z": 150.0}
  }
}
```
---
### 4. SETTINGS_ROBOT_CALIBRATION_SET
**ĞŸÑŠÑ‚:** `/api/v1/settings/robot/calibration/set`  
**ĞœĞµÑ‚Ğ¾Ğ´:** POST  
**Ğ¦ĞµĞ»:** Ğ—Ğ°Ğ¿Ğ°Ğ·Ğ²Ğ°Ğ½Ğµ Ğ½Ğ° robot calibration
**Request:**
```python
controller_service.send_request(
    settings_endpoints.SETTINGS_ROBOT_CALIBRATION_SET,
    data={
        'workspace_origin': {'x': 10.0, 'y': 20.0, 'z': 0.0}
    }
)
```
---
### 5. SETTINGS_CAMERA_GET
**ĞŸÑŠÑ‚:** `/api/v1/settings/camera`  
**ĞœĞµÑ‚Ğ¾Ğ´:** GET  
**Ğ¦ĞµĞ»:** Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ğ½Ğµ Ğ½Ğ° camera Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
**Request:**
```python
controller_service.send_request(settings_endpoints.SETTINGS_CAMERA_GET)
```
**Response (Success):**
```json
{
  "status": "success",
  "data": {
    "backend": "OPENCV",
    "camera_index": 0,
    "resolution": [1920, 1080],
    "fps": 30,
    "auto_exposure": false,
    "exposure": 100,
    "gain": 50
  }
}
```
---
### 6. SETTINGS_CAMERA_SET
**ĞŸÑŠÑ‚:** `/api/v1/settings/camera/set`  
**ĞœĞµÑ‚Ğ¾Ğ´:** POST  
**Ğ¦ĞµĞ»:** Ğ—Ğ°Ğ¿Ğ°Ğ·Ğ²Ğ°Ğ½Ğµ Ğ½Ğ° camera Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
**Request:**
```python
controller_service.send_request(
    settings_endpoints.SETTINGS_CAMERA_SET,
    data={
        'backend': 'V4L2',
        'resolution': [1280, 720],
        'fps': 60
    }
)
```
---
### 7. SETTINGS_GET
**ĞŸÑŠÑ‚:** `/api/v1/settings`  
**ĞœĞµÑ‚Ğ¾Ğ´:** GET  
**Ğ¦ĞµĞ»:** Generic settings Ğ·Ğ°ÑĞ²ĞºĞ°
**Request:**
```python
controller_service.send_request(
    settings_endpoints.SETTINGS_GET,
    data={'type': 'some_setting_type'}
)
```
---
### 8. SETTINGS_UPDATE
**ĞŸÑŠÑ‚:** `/api/v1/settings`  
**ĞœĞµÑ‚Ğ¾Ğ´:** POST  
**Ğ¦ĞµĞ»:** Generic settings Ğ°ĞºÑ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
**Request:**
```python
controller_service.send_request(
    settings_endpoints.SETTINGS_UPDATE,
    data={
        'type': 'some_type',
        'key': 'some_key',
        'value': 'some_value'
    }
)
```
---
## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸
### 1. SettingsPlugin (Plugin Entry Point)
**Ğ¤Ğ°Ğ¹Ğ»:** `plugins/core/settings/plugin.py`
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ‚Ğ° Ğ²Ñ…Ğ¾Ğ´Ğ½Ğ° Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ·Ğ° Settings plugin. Ğ˜Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ° IPlugin Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°.
**Metadata:**
```python
PluginMetadata(
    name="Settings",
    version="1.0.0",
    author="PL Team",
    description="System settings management",
    category=PluginCategory.CORE,
    permissions=[
        PluginPermission.SETTINGS_READ,
        PluginPermission.SETTINGS_WRITE
    ],
    auto_load=True
)
```
**ĞœĞµÑ‚Ğ¾Ğ´Ğ¸:**
#### initialize(controller_service) â†’ bool
```python
def initialize(self, controller_service):
    self.controller_service = controller_service
    self._mark_initialized(True)
    return True
```
#### create_widget(parent) â†’ QWidget
```python
def create_widget(self, parent=None):
    if not self._is_initialized:
        raise RuntimeError("Plugin not initialized")
    self._widget_instance = SettingsAppWidget(
        controller=self.controller_service.controller,
        controller_service=self.controller_service
    )
    return self._widget_instance
```
---
### 2. SettingsAppWidget (Main Widget)
**Ğ¤Ğ°Ğ¹Ğ»:** `plugins/core/settings/ui/SettingsAppWidget.py`
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¸ÑÑ‚ UI widget, Ğ½Ğ°ÑĞ»ĞµĞ´ÑĞ²Ğ° AppWidget.
**Signal Handling:**
```python
# Unified settings change
self.content_widget.setting_changed.connect(self._handle_setting_change)
# Action signals
self.content_widget.update_camera_feed_requested.connect(updateCameraFeedCallback)
self.content_widget.raw_mode_requested.connect(onRawModeRequested)
```
**ĞœĞµÑ‚Ğ¾Ğ´ Ğ·Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ¼ĞµĞ½Ğ¸:**
```python
def _handle_setting_change(self, key, value, component_type):
    print(f"ğŸ”§ Setting change: {component_type}.{key} = {value}")
    result = self.controller_service.settings.update_setting(
        key, value, component_type
    )
    if result:
        print(f"âœ… {result.message}")
    else:
        print(f"âŒ {result.message}")
```
---
### 3. SettingsContent (Tab Container)
**Ğ¤Ğ°Ğ¹Ğ»:** `plugins/core/settings/ui/SettingsContent.py`
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** CustomTabWidget, ÑÑŠĞ´ÑŠÑ€Ğ¶Ğ° Ğ²ÑĞ¸Ñ‡ĞºĞ¸ settings tabs.
**Signals:**
```python
# Action signals
update_camera_feed_requested = pyqtSignal()
raw_mode_requested = pyqtSignal(bool)
# Settings change signal
setting_changed = pyqtSignal(str, object, str)  # key, value, component_type
```
**Dynamic Tab Creation:**
```python
def _get_needed_settings_tabs(self):
    """Determine which tabs are needed for current application"""
    needed_tabs = []
    # Check application context
    if hasattr(self, 'controller_service'):
        app_name = getattr(self.controller_service, 'app_name', None)
        if app_name == 'glue_dispensing_application':
            needed_tabs = ['robot', 'camera', 'glue']
        else:
            needed_tabs = ['robot', 'camera']
    return needed_tabs
def _create_dynamic_tabs(self, needed_tabs):
    """Create only the tabs needed for this application"""
    if 'robot' in needed_tabs:
        self.create_robot_settings_tab()
    if 'camera' in needed_tabs:
        self.create_camera_settings_tab()
    if 'glue' in needed_tabs:
        self.create_glue_settings_tab()
```
**Signal Connection:**
```python
def _connect_settings_signals(self):
    """Connect all tab signals to unified handler"""
    # Robot settings
    if self.robotSettingsTabLayout:
        self.robotSettingsTabLayout.setting_changed.connect(
            self.setting_changed.emit
        )
    # Camera settings
    if self.cameraSettingsTabLayout:
        self.cameraSettingsTabLayout.setting_changed.connect(
            self.setting_changed.emit
        )
    # Glue settings
    if self.glueSettingsTabLayout:
        self.glueSettingsTabLayout.setting_changed.connect(
            self.setting_changed.emit
        )
```
---
### 4. RobotConfigUI (Robot Settings Tab)
**Ğ¤Ğ°Ğ¹Ğ»:** `plugins/core/settings/ui/robot_settings_tab/RobotConfigUI.py`
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¸ÑÑ‚ tab Ğ·Ğ° robot Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸, ÑÑŠĞ´ÑŠÑ€Ğ¶Ğ° 4 sub-tabs.
**Sub-tabs:**
1. **General Settings** - Global motion Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸
2. **Movement Groups** - Ğ Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ğ¸ Ğ³Ñ€ÑƒĞ¿Ğ¸ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ
3. **Safety** - Safety limits
4. **Robot Calibration** - Calibration Ğ´Ğ°Ğ½Ğ½Ğ¸
**Signals:**
```python
# ĞÑ‚ robot_settings_tab/signals.py
setting_changed = pyqtSignal(str, object, str)  # key, value, component_type
```
**Lazy Loading:**
```python
def showEvent(self, event):
    """Load settings when tab is shown for first time"""
    super().showEvent(event)
    if not self._settings_loaded:
        self._load_robot_settings()
def _load_robot_settings(self):
    """Load robot settings via endpoint"""
    response_dict = self.controller_service.send_request(
        settings_endpoints.SETTINGS_ROBOT_GET
    )
    response = Response.from_dict(response_dict)
    if response.status == 'success':
        self._populate_ui_from_config(response.data)
        self._settings_loaded = True
```
**Signal Emission:**
```python
# Ğ’ GlobalMotionSettings group
self.max_velocity_spinbox.valueChanged.connect(
    lambda v: self.setting_changed.emit(
        'max_velocity', v, 'GlobalMotionSettings'
    )
)
```
---
### 5. CameraSettingsTabLayout (Camera Settings Tab)
**Ğ¤Ğ°Ğ¹Ğ»:** `plugins/core/settings/ui/CameraSettingsTabLayout.py`
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** Tab Ğ·Ğ° camera Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸.
**Ğ¡ĞµĞºÑ†Ğ¸Ğ¸:**
- Camera Backend (OPENCV, V4L2, GSTREAMER)
- Resolution
- FPS
- Exposure settings
- Gain settings
- White balance
- Raw mode toggle
**Signal Emission:**
```python
self.backend_dropdown.currentTextChanged.connect(
    lambda v: self.setting_changed.emit('backend', v, 'CameraSettings')
)
self.raw_mode_checkbox.stateChanged.connect(
    lambda state: self.raw_mode_requested.emit(state == Qt.CheckState.Checked)
)
```
---
### 6. GlueSettingsTabLayout (Glue Settings Tab)
**Ğ¤Ğ°Ğ¹Ğ»:** `plugins/core/glue_settings_plugin/ui/GlueSettingsTabLayout.py`
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** Tab Ğ·Ğ° glue Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ (Ğ¼Ğ¾Ğ¶Ğµ Ğ´Ğ° Ğµ Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ĞµĞ½ plugin).
**Sub-tabs:**
1. **Glue Types** - Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ñ‚Ğ¸Ğ¿Ğ¾Ğ²Ğµ Ğ»ĞµĞ¿Ğ¸Ğ»Ğ¾
2. **Hardware Config** - Hardware ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
3. **Glue Cells** - Glue cells Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
**Signals:**
```python
# ĞÑ‚ Glue Types tab
glue_types_load_requested = pyqtSignal()
glue_type_add_requested = pyqtSignal(str, str)  # name, description
glue_type_update_requested = pyqtSignal(str, str, str)  # id, name, description
glue_type_remove_requested = pyqtSignal(str)  # id
```
---
## Tabs (Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸)
### Robot Settings Tab
**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```
RobotConfigUI (QWidget)
â”œâ”€â”€ Sub-tab: General Settings
â”‚   â””â”€â”€ GlobalMotionSettings group
â”‚       â”œâ”€â”€ Max Velocity (QDoubleSpinBox)
â”‚       â”œâ”€â”€ Max Acceleration (QDoubleSpinBox)
â”‚       â”œâ”€â”€ Max Jerk (QDoubleSpinBox)
â”‚       â””â”€â”€ Blend Radius (QDoubleSpinBox)
â”‚
â”œâ”€â”€ Sub-tab: Movement Groups
â”‚   â””â”€â”€ Ğ—Ğ° Ğ²ÑÑĞºĞ° Ğ³Ñ€ÑƒĞ¿Ğ°:
â”‚       â”œâ”€â”€ Velocity (QDoubleSpinBox)
â”‚       â”œâ”€â”€ Acceleration (QDoubleSpinBox)
â”‚       â””â”€â”€ Jerk (QDoubleSpinBox)
â”‚
â”œâ”€â”€ Sub-tab: Safety
â”‚   â””â”€â”€ SafetyLimits group
â”‚       â”œâ”€â”€ Max TCP Speed (QDoubleSpinBox)
â”‚       â””â”€â”€ Max Joint Speeds (6x QDoubleSpinBox)
â”‚
â””â”€â”€ Sub-tab: Robot Calibration
    â”œâ”€â”€ Workspace Origin (X, Y, Z)
    â”œâ”€â”€ Camera Calibration
    â””â”€â”€ TCP Offset
```
**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ UI ĞºĞ¾Ğ´:**
```python
# Ğ’ GlobalMotionSettings group
self.max_velocity_spinbox = QDoubleSpinBox()
self.max_velocity_spinbox.setRange(0.0, 1000.0)
self.max_velocity_spinbox.setValue(config.max_velocity)
self.max_velocity_spinbox.valueChanged.connect(
    lambda v: self.setting_changed.emit('max_velocity', v, 'GlobalMotionSettings')
)
```
---
### Camera Settings Tab
**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```
CameraSettingsTabLayout (QVBoxLayout)
â”œâ”€â”€ Backend Selection Group
â”‚   â””â”€â”€ Dropdown: OPENCV, V4L2, GSTREAMER
â”‚
â”œâ”€â”€ Resolution Group
â”‚   â”œâ”€â”€ Width (QSpinBox)
â”‚   â””â”€â”€ Height (QSpinBox)
â”‚
â”œâ”€â”€ FPS Group
â”‚   â””â”€â”€ FPS (QSpinBox)
â”‚
â”œâ”€â”€ Exposure Group
â”‚   â”œâ”€â”€ Auto Exposure (QCheckBox)
â”‚   â””â”€â”€ Manual Exposure (QSlider)
â”‚
â”œâ”€â”€ Gain Group
â”‚   â””â”€â”€ Gain (QSlider)
â”‚
â”œâ”€â”€ White Balance Group
â”‚   â”œâ”€â”€ Auto WB (QCheckBox)
â”‚   â””â”€â”€ Manual WB (QSlider)
â”‚
â””â”€â”€ Actions Group
    â”œâ”€â”€ Update Camera Feed (QPushButton)
    â””â”€â”€ Raw Mode (QCheckBox)
```
**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ UI ĞºĞ¾Ğ´:**
```python
# Backend dropdown
self.backend_dropdown = QComboBox()
self.backend_dropdown.addItems(['OPENCV', 'V4L2', 'GSTREAMER'])
self.backend_dropdown.currentTextChanged.connect(
    lambda v: self.setting_changed.emit('backend', v, 'CameraSettings')
)
# Raw mode
self.raw_mode_checkbox = QCheckBox("Raw Mode")
self.raw_mode_checkbox.stateChanged.connect(
    lambda state: self.raw_mode_requested.emit(state == Qt.CheckState.Checked)
)
```
---
### Glue Settings Tab
**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```
GlueSettingsTabLayout (CustomTabWidget)
â”œâ”€â”€ Sub-tab: Glue Types
â”‚   â”œâ”€â”€ Table: ID, Name, Description, Actions
â”‚   â””â”€â”€ Buttons: Add, Edit, Delete
â”‚
â”œâ”€â”€ Sub-tab: Hardware Config
â”‚   â”œâ”€â”€ Motor Addresses
â”‚   â””â”€â”€ Cell Configurations
â”‚
â””â”€â”€ Sub-tab: Glue Cells
    â””â”€â”€ Cell-specific Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
```
---
## Signal Pattern
Settings Plugin Ğ¸Ğ·Ğ¿Ğ¾Ğ»Ğ·Ğ²Ğ° **Signal-based Architecture** Ğ²Ğ¼ĞµÑÑ‚Ğ¾ callback pattern.
### Ğ¡Ñ‚Ğ°Ñ€Ğ¸ÑÑ‚ ĞĞ°Ñ‡Ğ¸Ğ½ (Callbacks) âŒ
```python
# Ğ¡Ğ¢ĞĞ Ğ - ĞĞ• Ğ¡Ğ• Ğ˜Ğ—ĞŸĞĞ›Ğ—Ğ’Ğ ĞŸĞĞ’Ğ•Ğ§Ğ•
def onMaxVelocityChanged(value):
    controller.updateRobotSetting('max_velocity', value)
spinbox.valueChanged.connect(onMaxVelocityChanged)
```
**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¸:**
- Tight coupling Ğ¼ĞµĞ¶Ğ´Ñƒ UI Ğ¸ controller
- Ğ¢Ñ€ÑƒĞ´Ğ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ²Ğ°Ğ½Ğµ
- ĞÑĞ¼Ğ° ÑƒĞ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ°Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
- Code duplication
### ĞĞ¾Ğ²Ğ¸ÑÑ‚ ĞĞ°Ñ‡Ğ¸Ğ½ (Signals) âœ…
```python
# ĞĞĞ’Ğ - Signal-based
# 1. Widget emits unified signal
spinbox.valueChanged.connect(
    lambda v: self.setting_changed.emit('max_velocity', v, 'GlobalMotionSettings')
)
# 2. Tab relays signal upward
tab.setting_changed.connect(self.setting_changed.emit)
# 3. AppWidget handles all settings uniformly
def _handle_setting_change(self, key, value, component_type):
    result = controller_service.settings.update_setting(key, value, component_type)
```
**ĞŸÑ€ĞµĞ´Ğ¸Ğ¼ÑÑ‚Ğ²Ğ°:**
- Loose coupling
- Ğ›ĞµÑĞ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ²Ğ°Ğ½Ğµ
- Ğ£Ğ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ°Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
- DRY Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿
### Signal Flow Example
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QSpinBox (max_velocity)            â”‚
â”‚  valueChanged(100.5)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ lambda emits
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GlobalMotionSettings                â”‚
â”‚  setting_changed.emit(              â”‚
â”‚    'max_velocity', 100.5,           â”‚
â”‚    'GlobalMotionSettings'           â”‚
â”‚  )                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ relay
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RobotConfigUI                       â”‚
â”‚  setting_changed.emit(...)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ relay
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SettingsContent                     â”‚
â”‚  setting_changed.emit(...)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ connect
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SettingsAppWidget                   â”‚
â”‚  _handle_setting_change(            â”‚
â”‚    key='max_velocity',              â”‚
â”‚    value=100.5,                     â”‚
â”‚    component_type='GlobalMotion'    â”‚
â”‚  )                                  â”‚
â”‚    â†“                                â”‚
â”‚  controller_service.settings        â”‚
â”‚    .update_setting(...)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
---
## ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ğ¸ Ğ·Ğ° Ğ˜Ğ·Ğ¿Ğ¾Ğ»Ğ·Ğ²Ğ°Ğ½Ğµ
### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 1: Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ğ½Ğµ Ğ½Ğ° Robot Settings
```python
# Ğ’ RobotConfigUI
def _load_robot_settings(self):
    """Load robot settings when tab is first shown"""
    from communication_layer.api.v1.endpoints import settings_endpoints
    from communication_layer.api.v1.Response import Response
    # Send request via controller_service
    response_dict = self.controller_service.send_request(
        settings_endpoints.SETTINGS_ROBOT_GET
    )
    # Parse response
    response = Response.from_dict(response_dict)
    if response.status == 'success':
        config_data = response.data
        # Populate UI fields
        self.global_motion_group.set_values(
            config_data['global_motion']
        )
        self.movement_groups_tab.set_values(
            config_data['movement_groups']
        )
        self._settings_loaded = True
        print("âœ… Robot settings loaded successfully")
    else:
        print(f"âŒ Failed to load settings: {response.message}")
```
---
### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 2: ĞŸÑ€Ğ¾Ğ¼ÑĞ½Ğ° Ğ½Ğ° Max Velocity
```python
# Ğ’ GlobalMotionSettings UI group
class GlobalMotionSettings(QGroupBox):
    setting_changed = pyqtSignal(str, object, str)
    def __init__(self):
        super().__init__("Global Motion")
        # Create spinbox
        self.max_velocity_spinbox = QDoubleSpinBox()
        self.max_velocity_spinbox.setRange(0.0, 1000.0)
        self.max_velocity_spinbox.setSuffix(" mm/s")
        self.max_velocity_spinbox.setValue(100.5)
        # Connect to signal
        self.max_velocity_spinbox.valueChanged.connect(
            self._on_max_velocity_changed
        )
    def _on_max_velocity_changed(self, value):
        """Emit unified signal when value changes"""
        self.setting_changed.emit(
            'max_velocity',           # key
            value,                    # value
            'GlobalMotionSettings'    # component_type
        )
        print(f"Max Velocity changed to: {value}")
# Ğ’ RobotConfigUI - relay signal
self.global_motion_group.setting_changed.connect(
    self.setting_changed.emit
)
# Ğ’ SettingsContent - relay signal
self.robotSettingsTabLayout.setting_changed.connect(
    self.setting_changed.emit
)
# Ğ’ SettingsAppWidget - handle change
def _handle_setting_change(self, key, value, component_type):
    print(f"ğŸ”§ {component_type}.{key} = {value}")
    result = self.controller_service.settings.update_setting(
        key, value, component_type
    )
    if result.status == 'success':
        print(f"âœ… Saved successfully")
    else:
        print(f"âŒ Save failed: {result.message}")
```
---
### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 3: Camera Feed Update
```python
# Ğ’ CameraSettingsTabLayout
class CameraSettingsTabLayout(BaseSettingsTabLayout):
    update_camera_feed_requested = pyqtSignal()
    def __init__(self):
        super().__init__()
        # Create button
        self.update_feed_btn = QPushButton("Update Camera Feed")
        self.update_feed_btn.clicked.connect(
            self._on_update_feed_clicked
        )
    def _on_update_feed_clicked(self):
        """Request camera feed update"""
        print("Requesting camera feed update...")
        self.update_camera_feed_requested.emit()
# Ğ’ SettingsContent - relay signal
self.cameraSettingsTabLayout.update_camera_feed_requested.connect(
    self.update_camera_feed_requested.emit
)
# Ğ’ SettingsAppWidget - handle action
def updateCameraFeedCallback(self):
    """Handle camera feed update request"""
    from communication_layer.api.v1.endpoints import camera_endpoints
    frame = self.controller.handle(
        camera_endpoints.UPDATE_CAMERA_FEED
    )
    # Update UI with new frame
    self.content_widget.updateCameraFeed(frame)
    print("âœ… Camera feed updated")
```
---
### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 4: Add Glue Type
```python
# Ğ’ GlueTypeTab
class GlueTypeTab(QWidget):
    glue_type_add_requested = pyqtSignal(str, str)  # name, description
    def _on_add_button_clicked(self):
        """Show dialog and emit add request"""
        dialog = AddGlueTypeDialog(self)
        if dialog.exec() == QDialog.DialogCode.Accepted:
            name = dialog.name_input.text()
            description = dialog.description_input.toPlainText()
            # Emit signal
            self.glue_type_add_requested.emit(name, description)
# Ğ’ SettingsAppWidget - handle add
def _setup_glue_types_signals(self):
    """Connect glue type signals"""
    tab = self.content_widget.glueSettingsTabLayout.glue_type_tab
    # Connect add signal
    tab.glue_type_add_requested.connect(
        self._handle_add_glue_type
    )
def _handle_add_glue_type(self, name, description):
    """Add glue type via controller"""
    from communication_layer.api.v1.Response import Response
    from PyQt6.QtWidgets import QMessageBox
    # Call controller
    response_dict = self.controller.handleAddGlueType(name, description)
    response = Response.from_dict(response_dict)
    if response.status == "success":
        # Reload all glue types
        self._handle_load_glue_types()
        QMessageBox.information(
            self, 
            "Success", 
            f"Glue type '{name}' added successfully"
        )
    else:
        QMessageBox.warning(
            self,
            "Error",
            response.message
        )
```
---
### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 5: Jog Drawer (Robot Manual Control)
```python
# Ğ’ SettingsContent
def _setup_jog_drawer(self):
    """Setup jog drawer for manual robot control"""
    # Create drawer
    self.jog_drawer = Drawer(parent=self, position="right")
    # Create jog widget
    jog_widget = RobotJogWidget(controller_service=self.controller_service)
    # Add to drawer
    self.jog_drawer.setWidget(jog_widget)
    # Create toggle button
    jog_toggle_btn = QPushButton("Manual Control")
    jog_toggle_btn.clicked.connect(self.jog_drawer.toggle)
    # Add button to robot settings tab
    if self.robotSettingsTabLayout:
        self.robotSettingsTabLayout.addWidget(jog_toggle_btn)
# Ğ˜Ğ·Ğ¿Ğ¾Ğ»Ğ·Ğ²Ğ°Ğ½Ğµ Ğ² RobotJogWidget
class RobotJogWidget(QWidget):
    def __init__(self, controller_service):
        super().__init__()
        self.controller_service = controller_service
        # Create jog buttons
        self.setup_jog_buttons()
    def jog_positive_x(self):
        """Jog robot in positive X direction"""
        from communication_layer.api.v1.endpoints import robot_endpoints
        response = self.controller_service.send_request(
            robot_endpoints.ROBOT_JOG,
            data={'axis': 'x', 'direction': 'positive', 'distance': 10.0}
        )
        if response['status'] == 'success':
            print("âœ… Jogged +X 10mm")
```
---
### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 6: Lazy Loading Pattern
```python
# Ğ’ Ğ²ÑĞµĞºĞ¸ settings tab
class SomeSettingsTab(QWidget):
    def __init__(self, controller_service):
        super().__init__()
        self.controller_service = controller_service
        self._settings_loaded = False
        # Setup UI but don't load settings yet
        self.setup_ui()
    def showEvent(self, event):
        """Qt event when widget becomes visible"""
        super().showEvent(event)
        # Load settings only on first show
        if not self._settings_loaded:
            self._load_settings()
    def _load_settings(self):
        """Load settings from backend"""
        print("Loading settings (first time)...")
        response_dict = self.controller_service.send_request(
            settings_endpoints.SOME_SETTINGS_GET
        )
        response = Response.from_dict(response_dict)
        if response.status == 'success':
            self._populate_ui(response.data)
            self._settings_loaded = True
        print(f"Settings loaded: {self._settings_loaded}")
```
**ĞŸÑ€ĞµĞ´Ğ¸Ğ¼ÑÑ‚Ğ²Ğ° Ğ½Ğ° Lazy Loading:**
- ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµÑ‚Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ° Ğ¿Ğ¾-Ğ±ÑŠÑ€Ğ·Ğ¾
- Settings ÑĞµ Ğ·Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ñ‚ ÑĞ°Ğ¼Ğ¾ Ğ°ĞºĞ¾ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑÑ‚ Ğ³Ğ¸ Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸
- ĞŸĞ¾-Ğ¼Ğ°Ğ»ĞºĞ¾ initial network/disk I/O
- ĞŸĞ¾-Ğ´Ğ¾Ğ±ÑŠÑ€ user experience
---
## Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
Settings Plugin Ğ¸Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ° Ğ¿ÑŠĞ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ·Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ:
âœ… **ĞœĞ¾Ğ´ÑƒĞ»Ğ½Ğ° ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°** - Ğ¯ÑĞ½Ğ¾ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° ÑĞ»Ğ¾ĞµĞ²Ğµ  
âœ… **Signal Pattern** - Loose coupling, Ğ»ĞµÑĞ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ²Ğ°Ğ½Ğµ  
âœ… **Repository Pattern** - ĞšĞ¾Ğ½ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ data access  
âœ… **Lazy Loading** - ĞŸĞ¾-Ğ±ÑŠÑ€Ğ·Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°Ğ½Ğµ Ğ½Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµÑ‚Ğ¾  
âœ… **Dynamic Tabs** - Ğ Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ğ¸ tabs Ğ·Ğ° Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ  
âœ… **Unified Interface** - Ğ•Ğ´Ğ½Ğ°ĞºÑŠĞ² Ğ½Ğ°Ñ‡Ğ¸Ğ½ Ğ·Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ½Ğ° Ğ²ÑĞ¸Ñ‡ĞºĞ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸  
âœ… **Type Safety** - Dataclass Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ñ type hints  
âœ… **Extensible** - Ğ›ĞµÑĞ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²ÑĞ½Ğµ Ğ½Ğ° Ğ½Ğ¾Ğ²Ğ¸ settings tabs  
Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°Ñ‚Ğ° Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğ·Ğ° production Ğ¸Ğ·Ğ¿Ğ¾Ğ»Ğ·Ğ²Ğ°Ğ½Ğµ Ğ¸ ÑĞ»ĞµĞ´Ğ²Ğ° best practices! ğŸ‰
---
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**Ğ”Ğ°Ñ‚Ğ°:** 10 Ğ”ĞµĞºĞµĞ¼Ğ²Ñ€Ğ¸ 2025  
**ĞĞ²Ñ‚Ğ¾Ñ€:** Cobot Glue Dispensing System Team
